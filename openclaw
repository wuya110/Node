openclaw gateway stop
pkill -f openclaw
rm -f ~/.openclaw/openclaw.json

cat << 'EOF' > ~/.openclaw/openclaw.json
{"auth":{"profiles":{"newapi:default":{"provider":"openai","mode":"api_key"},"zhipu:default":{"provider":"openai","mode":"api_key"}}},"models":{"mode":"replace","providers":{"newapi":{"baseUrl":"http://0.0.0.0:3000/v1","apiKey":"sk-RNOcQ0EMsNqBSh1wI4FNPBEudUdC49hXVTRXPCalgPHmOVJ8","api":"openai-completions","models":[{"id":"my-assistant","name":"Eco"},{"id":"mysuper","name":"Pro"}]},"zhipu":{"baseUrl":"https://open.bigmodel.cn/api/paas/v4","apiKey":"654be6e52e94454282ac2b4ff6a8262b.aw2K0PeJ89ltFgqG","api":"openai-completions","models":[{"id":"glm-4.7","name":"GLM-4.7"},{"id":"glm-4.6v","name":"GLM-4.6v"},{"id":"glm-4.5-air","name":"GLM-4.5-Air"}]}}},"agents":{"defaults":{"contextTokens":16384,"memorySearch":{"enabled":true},"compaction":{"mode":"safeguard","reserveTokensFloor":6400,"memoryFlush":{"enabled":true}}},"list":[{"id":"main","name":"main","workspace":"/root/.openclaw/workspace","agentDir":"/root/.openclaw/agents/main/agent","model":{"primary":"newapi/my-assistant","fallbacks":[]}},{"id":"main-super","name":"super","workspace":"/root/.openclaw/workspace","agentDir":"/root/.openclaw/agents/main-super/agent","model":{"primary":"newapi/mysuper","fallbacks":[]}}]},"channels":{"telegram":{"enabled":true,"botToken":"8226030547:AAHqE0tgoux20xAGcKOIlMvB4h8M_AtFbyY","streaming":"partial"}},"gateway":{"mode":"local","auth":{"mode":"token","token":"1bebc744fcedcd47d317aef2832a4472dfda82d100999b50"}}}
EOF

sed -i 's/\r//g' ~/.openclaw/openclaw.json
openclaw gateway start
sleep 3
openclaw models list
